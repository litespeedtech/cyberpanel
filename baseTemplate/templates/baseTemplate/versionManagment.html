{% extends "baseTemplate/index.html" %}
{% load i18n %}
{% block title %}{% trans "Version Management - CyberPanel" %}"{% endblock %}
{% block content %}

{% load static %}

<div class="container">
<div id="page-title">
   <h2>{% trans "Version Management" %}</h2>
   <p>{% trans "On this page you can manage versions and or upgrade to latest version of CyberPanel" %}</p>
</div>


<div class="panel">
    <div class="panel-body">
        <h3 class="title-hero">
            CyberPanel
        </h3>
        <div ng-controller="versionManagment" class="example-box-wrapper">


            <form   action="/" class="form-horizontal bordered-row">
                <div class="form-group">
                    <label class="col-sm-3 control-label">{% trans "Current Version" %}</label>
                    <div class="col-sm-6">
                        <div class="current-pack">{{ currentVersion }} </div>
                    </div>
                </div>


                <div class="form-group">
                    <label class="col-sm-3 control-label">{% trans "Build" %}</label>
                    <div class="col-sm-6">
                        <div  class="current-pack">{{ build }}</div>
                    </div>
                </div>



                <div class="form-group">
                    <label class="col-sm-3 control-label">{% trans "Latest Version" %}</label>
                    <div class="col-sm-6">
                        <div style="color:red" class="current-pack">{{ latestVersion }}</div>
                    </div>
                </div>


                <div class="form-group">
                    <label class="col-sm-3 control-label">{% trans "Latest Build" %}</label>
                    <div class="col-sm-6">
                        <div style="color:red" class="current-pack">{{ latestBuild }}</div>
                    </div>
                </div>

                {% if active == 1 %}

                <div ng-hide="dbDetails" class="form-group">
                    <label class="col-sm-3 control-label"></label>
                    <div class="col-sm-4">
                         <button type="button" ng-click="upgrade()" class="btn btn-primary btn-lg btn-block">Upgrade</button>
                    </div>
                    <img  ng-hide="upgradeLoading" src="{% static 'images/loading.gif' %}">
                    <div style="margin-top: 2%" class="col-sm-12">
                                <div ng-hide="updateError" class="alert alert-danger">
                                            <p>{% trans "Error message: " %}{$ errorMessage $}</p>
                                </div>

                                <div ng-hide="updateStarted" class="alert alert-success">
                                            <p>{% trans "Update started..." %}</p>
                                </div>

                                <div ng-hide="updateFinish" class="alert alert-success">
                                            <p>{% trans "Update finished..." %}</p>
                                </div>


                                <div ng-hide="couldNotConnect" class="alert alert-danger">
                                            <p>{% trans "Could not connect. Please refresh this page." %}</p>
                                </div>
                        </div>
                </div>


                {% endif %}


                <div ng-hide="upgradelogBox" class="form-group">
                                <div class="col-sm-12">
                                    <textarea ng-model="upgradeLog" rows="30" class="form-control">{{ logs }}</textarea>
                                </div>
                </div>






            </form>




        </div>
    </div>
</div>



</div>


{% endblock %}